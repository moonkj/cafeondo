<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>개인정보 처리방침 — 카페온도</title>
  <meta name="description" content="카페온도 앱의 개인정보 처리방침입니다. 개인정보보호법에 따라 수집 항목, 이용 목적, 보유 기간 등을 안내합니다." />
  <meta name="robots" content="noindex" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <nav class="nav-inner">
      <a href="index.html" class="nav-brand" aria-label="카페온도 홈">
        <div class="nav-logo">온</div>
        <span class="nav-brand-name">카페<span>온도</span></span>
      </a>
      <div class="nav-actions">
        <button class="btn-theme" data-theme-toggle aria-label="다크 모드로 전환">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </div>
    </nav>
  </header>

  <!-- Page Hero -->
  <div class="page-hero">
    <div class="container">
      <div class="page-badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        Privacy Policy
      </div>
      <h1>개인정보 처리방침</h1>
      <p class="page-hero-desc">카페온도는 이용자의 개인정보를 소중히 여기며, 개인정보보호법 및 관련 법령을 준수합니다.</p>
      <div class="page-meta">
        <span class="meta-tag">시행일: 2026년 3월 1일</span>
        <span class="meta-tag">최종 수정: 2026년 2월 28일</span>
      </div>
    </div>
  </div>

  <!-- Content -->
  <main>
    <div class="page-layout">

      <!-- TOC -->
      <nav class="toc" aria-label="목차">
        <h2>목차</h2>
        <ol class="toc-list" role="list">
          <li><a href="#purpose">제1조 처리 목적</a></li>
          <li><a href="#items">제2조 수집 항목 및 방법</a></li>
          <li><a href="#retention">제3조 보유 및 이용 기간</a></li>
          <li><a href="#third-party">제4조 제3자 제공</a></li>
          <li><a href="#consignment">제5조 처리 위탁</a></li>
          <li><a href="#rights">제6조 이용자 권리</a></li>
          <li><a href="#destruction">제7조 파기 절차 및 방법</a></li>
          <li><a href="#security">제8조 안전성 확보 조치</a></li>
          <li><a href="#children">제9조 아동 개인정보</a></li>
          <li><a href="#cookies">제10조 자동 수집 정보</a></li>
          <li><a href="#officer">제11조 개인정보 보호책임자</a></li>
          <li><a href="#changes">제12조 처리방침 변경</a></li>
          <li><a href="#remedy">제13조 권익침해 구제</a></li>
        </ol>
      </nav>

      <!-- Article -->
      <article class="doc-content">

        <!-- 제1조 -->
        <section class="doc-section" id="purpose">
          <h2><span class="sec-num">1</span> 처리 목적</h2>
          <p>
            <strong>카페온도(이하 "서비스")</strong>는 다음의 목적을 위하여 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 이외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는 개인정보 보호법 제18조에 따라 별도의 동의를 받는 등 필요한 조치를 이행할 예정입니다.
          </p>
          <ul>
            <li><strong>회원 가입 및 관리:</strong> 회원 가입 의사 확인, 회원제 서비스 제공, 본인인증, 계정 유지·관리, 서비스 부정 이용 방지</li>
            <li><strong>서비스 제공:</strong> 주변 카페 검색 및 소음 정보 제공, 개인화 서비스, 프리미엄 구독 서비스</li>
            <li><strong>소음 측정 기능:</strong> 카페 주변 환경 소음 수치(dB) 측정 및 집계 데이터 제공 (음성 녹음 없음)</li>
            <li><strong>민원 처리:</strong> 민원인 확인, 민원 내용 확인, 처리 결과 안내</li>
            <li><strong>마케팅 및 광고:</strong> 서비스 이용 통계 분석, 맞춤형 광고 제공 (Google AdMob)</li>
          </ul>
        </section>

        <!-- 제2조 -->
        <section class="doc-section" id="items">
          <h2><span class="sec-num">2</span> 수집 항목 및 방법</h2>

          <h3>가. 수집 항목</h3>
          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>수집 구분</th>
                  <th>수집 항목</th>
                  <th>수집 목적</th>
                  <th>필수 여부</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Google 로그인</td>
                  <td>이메일 주소, Google 계정 고유 ID</td>
                  <td>회원 인증 및 계정 관리</td>
                  <td>필수</td>
                </tr>
                <tr>
                  <td>Apple 로그인</td>
                  <td>이메일 주소(선택 제공 가능), Apple 계정 고유 ID</td>
                  <td>회원 인증 및 계정 관리</td>
                  <td>필수</td>
                </tr>
                <tr>
                  <td>익명(게스트) 로그인</td>
                  <td>Firebase 익명 UID (개인 식별 불가)</td>
                  <td>비회원 서비스 이용</td>
                  <td>해당 없음</td>
                </tr>
                <tr>
                  <td>위치정보</td>
                  <td>현재 위치 좌표 (위도·경도)</td>
                  <td>주변 카페 검색</td>
                  <td>선택 (기능 이용 시 필수)</td>
                </tr>
                <tr>
                  <td>마이크</td>
                  <td>소음 수치(dB 값)만 수집 — 음성 녹음 없음</td>
                  <td>카페 소음 측정</td>
                  <td>선택 (기능 이용 시 필수)</td>
                </tr>
                <tr>
                  <td>소음 측정 데이터</td>
                  <td>카페별 집계 소음 수치, 측정 시각</td>
                  <td>소음 정보 제공 서비스</td>
                  <td>기능 이용 시 자동 수집</td>
                </tr>
                <tr>
                  <td>서비스 이용 기록</td>
                  <td>앱 접속 일시, 이용 기록, 기기 정보(OS, 앱 버전)</td>
                  <td>서비스 개선 및 통계 분석</td>
                  <td>자동 수집</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="callout">
            <p>
              <strong>마이크 권한 관련 안내:</strong> 카페온도의 소음 측정 기능은 데시벨(dB) 수치만을 처리하며, 음성 데이터는 기기 외부로 전송되거나 저장되지 않습니다.
            </p>
          </div>

          <h3>나. 수집 방법</h3>
          <ul>
            <li>앱 내 회원가입 및 로그인 시 이용자가 직접 입력</li>
            <li>Google, Apple 등 소셜 로그인 연동을 통한 수집</li>
            <li>서비스 이용 과정에서 자동으로 생성·수집</li>
            <li>Firebase SDK를 통한 자동 수집 (접속 로그, 기기 정보 등)</li>
          </ul>
        </section>

        <!-- 제3조 -->
        <section class="doc-section" id="retention">
          <h2><span class="sec-num">3</span> 보유 및 이용 기간</h2>
          <p>회원의 개인정보는 원칙적으로 개인정보 수집·이용 목적이 달성된 후 지체 없이 파기합니다. 단, 관련 법령에 따라 아래와 같이 일정 기간 보존합니다.</p>

          <h3>가. 회사 내부 방침에 따른 보유</h3>
          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>항목</th>
                  <th>보유 기간</th>
                  <th>사유</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>회원 계정 정보 (이메일, UID)</td>
                  <td>회원 탈퇴 시까지</td>
                  <td>회원제 서비스 제공</td>
                </tr>
                <tr>
                  <td>위치정보</td>
                  <td>세션 종료 즉시 삭제 (서버 미저장)</td>
                  <td>단순 검색 기능 목적</td>
                </tr>
                <tr>
                  <td>소음 측정 집계 데이터</td>
                  <td>서비스 운영 기간 동안</td>
                  <td>카페 소음 정보 제공</td>
                </tr>
                <tr>
                  <td>서비스 이용 기록</td>
                  <td>1년</td>
                  <td>서비스 개선 및 분쟁 해결</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>나. 관련 법령에 따른 보유</h3>
          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>근거 법령</th>
                  <th>보유 항목</th>
                  <th>보유 기간</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>전자상거래법</td>
                  <td>계약 또는 청약철회에 관한 기록</td>
                  <td>5년</td>
                </tr>
                <tr>
                  <td>전자상거래법</td>
                  <td>대금결제 및 재화 등의 공급에 관한 기록</td>
                  <td>5년</td>
                </tr>
                <tr>
                  <td>전자상거래법</td>
                  <td>소비자 불만 또는 분쟁처리에 관한 기록</td>
                  <td>3년</td>
                </tr>
                <tr>
                  <td>통신비밀보호법</td>
                  <td>서비스 접속 로그</td>
                  <td>3개월</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- 제4조 -->
        <section class="doc-section" id="third-party">
          <h2><span class="sec-num">4</span> 제3자 제공</h2>
          <p>카페온도는 원칙적으로 이용자의 개인정보를 제3자에게 제공하지 않습니다. 다만, 서비스 운영을 위해 아래의 경우 관련 법령에 따라 처리합니다.</p>

          <h3>가. 서비스 내 제3자 연동 (이용자 동의 기반)</h3>
          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>제공 받는 자</th>
                  <th>목적</th>
                  <th>제공 항목</th>
                  <th>보유 기간</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Google LLC (Firebase)</td>
                  <td>앱 인증, 데이터베이스 및 스토리지 서비스</td>
                  <td>이메일, UID, 소음 측정 집계 데이터, 서비스 이용 기록</td>
                  <td>회원 탈퇴 시까지</td>
                </tr>
                <tr>
                  <td>Google LLC (AdMob)</td>
                  <td>배너·네이티브 광고 서비스 (전면 광고 없음)</td>
                  <td>광고 식별자(GAID/IDFA), 기기 정보</td>
                  <td>Google 개인정보 처리방침 따름</td>
                </tr>
                <tr>
                  <td>Apple Inc.</td>
                  <td>Apple 로그인 서비스</td>
                  <td>Apple 계정 ID (이메일 선택적)</td>
                  <td>Apple 개인정보 처리방침 따름</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>나. 예외적 제공</h3>
          <p>법령에 의거하거나 수사기관의 적법한 절차에 따른 요청이 있는 경우에는 관련 법령에 따라 제공할 수 있습니다.</p>

          <div class="callout">
            <p>Google AdMob은 전면 광고(interstitial) 및 전체 화면 광고를 사용하지 않으며, 배너 및 네이티브 광고만 제공됩니다. Firebase 데이터는 서울 리전(asia-northeast3)에 저장됩니다.</p>
          </div>
        </section>

        <!-- 제5조 -->
        <section class="doc-section" id="consignment">
          <h2><span class="sec-num">5</span> 처리 위탁</h2>
          <p>카페온도는 서비스 제공을 위해 아래와 같이 개인정보 처리를 위탁하고 있으며, 위탁 계약 시 개인정보 보호 관련 법령의 규정을 준수하고 있습니다.</p>

          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>수탁 업체</th>
                  <th>위탁 업무</th>
                  <th>위탁 항목</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Google LLC (Firebase)</td>
                  <td>클라우드 인프라 운영 (인증, DB, 스토리지)</td>
                  <td>계정 정보, 서비스 데이터 전반</td>
                </tr>
                <tr>
                  <td>Google LLC (AdMob)</td>
                  <td>모바일 광고 플랫폼 운영</td>
                  <td>광고 식별자, 기기 정보</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p style="margin-top:var(--space-4);">수탁자는 위탁받은 업무 범위 외의 목적으로 개인정보를 이용하거나 제3자에게 제공할 수 없습니다.</p>
        </section>

        <!-- 제6조 -->
        <section class="doc-section" id="rights">
          <h2><span class="sec-num">6</span> 이용자 및 법정대리인의 권리</h2>
          <p>이용자 및 법정대리인은 카페온도에 대해 언제든지 다음 각 호의 개인정보 보호 관련 권리를 행사할 수 있습니다.</p>
          <ol>
            <li>개인정보 처리 현황 열람 요구</li>
            <li>오류 등이 있을 경우 정정 요구</li>
            <li>삭제 요구</li>
            <li>처리 정지 요구</li>
          </ol>
          <p>위 권리 행사는 앱 내 설정 화면 또는 <a href="mailto:support@cafeondo.app">support@cafeondo.app</a>으로 서면, 이메일 등을 통해 하실 수 있으며, 카페온도는 지체 없이 조치하겠습니다.</p>
          <p>권리 행사는 정보주체의 법정대리인이나 위임을 받은 자 등 대리인을 통하여 하실 수도 있습니다. 이 경우 「개인정보 처리 방법에 관한 고시」 별지 제11호 서식에 따른 위임장을 제출하셔야 합니다.</p>

          <h3>회원 탈퇴 및 개인정보 삭제</h3>
          <ul>
            <li>앱 내 '설정 &gt; 계정 관리 &gt; 회원 탈퇴'를 통해 직접 탈퇴 가능</li>
            <li>탈퇴 즉시 관련 개인정보를 파기하며, 법령에 의해 보존해야 하는 정보는 분리 보관 후 기간 만료 시 파기</li>
          </ul>
        </section>

        <!-- 제7조 -->
        <section class="doc-section" id="destruction">
          <h2><span class="sec-num">7</span> 개인정보의 파기 절차 및 방법</h2>
          <p>카페온도는 개인정보 보유 기간의 경과, 처리 목적 달성 등 개인정보가 불필요하게 되었을 때에는 지체 없이 해당 개인정보를 파기합니다.</p>

          <h3>가. 파기 절차</h3>
          <ul>
            <li>이용자가 입력한 정보는 목적 달성 후 별도의 DB에 옮겨져(종이의 경우 별도의 서류함) 내부 방침 및 기타 관련 법령에 따라 일정 기간 저장된 후 혹은 즉시 파기됩니다.</li>
            <li>이 때, DB로 옮겨진 개인정보는 법률에 의한 경우가 아니고서는 다른 목적으로 이용되지 않습니다.</li>
          </ul>

          <h3>나. 파기 방법</h3>
          <ul>
            <li><strong>전자적 파일 형태:</strong> 복구·재생이 불가능한 방법으로 영구 삭제 (Firebase 데이터 삭제 API 사용)</li>
            <li><strong>기타 기록물, 인쇄물, 서면:</strong> 분쇄하거나 소각</li>
          </ul>
        </section>

        <!-- 제8조 -->
        <section class="doc-section" id="security">
          <h2><span class="sec-num">8</span> 개인정보의 안전성 확보 조치</h2>
          <p>카페온도는 개인정보 보호법 제29조에 따라 다음과 같이 안전성 확보에 필요한 기술적/관리적/물리적 조치를 하고 있습니다.</p>
          <ul>
            <li><strong>개인정보 취급 최소화:</strong> 개인정보를 취급하는 직원은 개인 개발자 1인으로 최소한의 인원만 허용</li>
            <li><strong>접속기록 보관:</strong> Firebase 콘솔 접근 로그 및 이용 기록 정기 확인</li>
            <li><strong>개인정보의 암호화:</strong> 이용자의 개인정보는 HTTPS/TLS 암호화 통신으로 전송</li>
            <li><strong>해킹 방지:</strong> Firebase Security Rules를 통한 접근 통제, 최소 권한 원칙 적용</li>
            <li><strong>비인가 접근 방지:</strong> 개인정보가 포함된 시스템의 접근 권한을 개인 개발자로 제한</li>
          </ul>
        </section>

        <!-- 제9조 -->
        <section class="doc-section" id="children">
          <h2><span class="sec-num">9</span> 아동의 개인정보</h2>
          <p>카페온도는 만 14세 미만 아동의 회원 가입을 허용하지 않습니다. 만 14세 미만 아동은 서비스를 이용할 수 없으며, 이를 위반한 가입이 확인될 경우 즉시 해당 계정을 삭제하겠습니다.</p>
          <p>만약 만 14세 미만 아동의 개인정보가 수집된 사실을 발견하신 경우 <a href="mailto:support@cafeondo.app">support@cafeondo.app</a>으로 즉시 연락해 주시기 바랍니다.</p>
        </section>

        <!-- 제10조 -->
        <section class="doc-section" id="cookies">
          <h2><span class="sec-num">10</span> 자동 수집 정보 (쿠키 등)</h2>
          <p>카페온도 앱은 웹 쿠키를 사용하지 않습니다. 다만 Firebase SDK 및 Google AdMob SDK는 다음과 같은 자동 수집 정보를 처리할 수 있습니다.</p>

          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>수집 주체</th>
                  <th>수집 항목</th>
                  <th>목적</th>
                  <th>거부 방법</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Firebase Analytics</td>
                  <td>앱 이용 패턴, 기기 정보, 세션 데이터</td>
                  <td>서비스 개선, 통계 분석</td>
                  <td>앱 내 설정에서 분석 데이터 수집 비활성화</td>
                </tr>
                <tr>
                  <td>Google AdMob</td>
                  <td>광고 식별자(GAID/IDFA), 기기 모델, OS 버전</td>
                  <td>맞춤형 광고 제공</td>
                  <td>기기 설정 &gt; 광고 &gt; 광고 개인화 설정 해제</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p>광고 식별자를 초기화하거나 광고 추적을 제한하려면 Android는 '설정 &gt; Google &gt; 광고', iOS는 '설정 &gt; 개인정보 보호 &gt; 추적'에서 변경하실 수 있습니다.</p>
        </section>

        <!-- 제11조 -->
        <section class="doc-section" id="officer">
          <h2><span class="sec-num">11</span> 개인정보 보호책임자 및 담당자</h2>
          <p>카페온도는 개인정보 처리에 관한 업무를 총괄해서 책임지고, 개인정보 처리와 관련한 정보주체의 불만 처리 및 피해구제 등을 위하여 아래와 같이 개인정보 보호책임자를 지정하고 있습니다.</p>

          <div class="table-wrap">
            <table class="info-table">
              <thead>
                <tr>
                  <th>구분</th>
                  <th>내용</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>개인정보 보호책임자</td>
                  <td>카페온도 개발자</td>
                </tr>
                <tr>
                  <td>이메일</td>
                  <td><a href="mailto:support@cafeondo.app">support@cafeondo.app</a></td>
                </tr>
                <tr>
                  <td>처리 기간</td>
                  <td>문의 접수 후 10 영업일 이내</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p>정보주체는 개인정보 보호법 제35조에 따른 개인정보의 열람 청구를 아래의 기관에 할 수 있습니다. 개인정보보호위원회는 카페온도의 자체 개인정보 열람청구 접수·처리 부서와 별도로, 그 결과에 만족하지 못하시는 경우 등 개인정보 침해에 대한 신고, 상담을 위하여 아래 기관에 문의하실 수 있습니다.</p>
          <ul>
            <li>개인정보 침해신고센터: <a href="https://privacy.kisa.or.kr" target="_blank" rel="noopener">privacy.kisa.or.kr</a> (국번없이 118)</li>
            <li>개인정보 분쟁조정위원회: <a href="https://www.kopico.go.kr" target="_blank" rel="noopener">www.kopico.go.kr</a> (1833-6972)</li>
            <li>대검찰청: <a href="https://www.spo.go.kr" target="_blank" rel="noopener">www.spo.go.kr</a> (국번없이 1301)</li>
            <li>경찰청: <a href="https://ecrm.cyber.go.kr" target="_blank" rel="noopener">ecrm.cyber.go.kr</a> (국번없이 182)</li>
          </ul>
        </section>

        <!-- 제12조 -->
        <section class="doc-section" id="changes">
          <h2><span class="sec-num">12</span> 개인정보 처리방침의 변경</h2>
          <p>이 개인정보 처리방침은 2026년 3월 1일부터 적용되며, 법령 및 방침에 따른 변경 내용의 추가, 삭제 및 정정이 있는 경우에는 변경 사항의 시행 7일 전부터 앱 내 공지사항을 통하여 고지할 것입니다.</p>
          <p>중요한 변경사항의 경우 30일 전에 고지합니다.</p>
        </section>

        <!-- 제13조 -->
        <section class="doc-section" id="remedy">
          <h2><span class="sec-num">13</span> 권익침해 구제 방법</h2>
          <p>정보주체는 개인정보침해로 인한 구제를 받기 위하여 개인정보분쟁조정위원회, 한국인터넷진흥원 개인정보침해신고센터 등에 분쟁 해결이나 상담 등을 신청할 수 있습니다.</p>
          <p>이 밖에 기타 개인정보침해의 신고, 상담에 대하여는 아래의 기관에 문의하시기 바랍니다.</p>
          <ul>
            <li><strong>개인정보 침해신고센터</strong> (한국인터넷진흥원 운영): 국번 없이 118</li>
            <li><strong>개인정보 분쟁조정위원회</strong>: 1833-6972</li>
            <li><strong>대검찰청 사이버범죄수사단</strong>: 국번 없이 1301</li>
            <li><strong>경찰청 사이버안전국</strong>: 국번 없이 182</li>
          </ul>
        </section>

      </article>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-brand">
        <div style="display:flex;align-items:center;gap:var(--space-3)">
          <div class="nav-logo" style="width:32px;height:32px;font-size:0.85rem;" aria-hidden="true">온</div>
          <span class="footer-brand-name">카페온도</span>
        </div>
        <p class="footer-desc">주변 카페의 소음 레벨을 측정하고 나에게 맞는 공간을 찾는 앱입니다.</p>
        <div class="footer-contact">문의: <a href="mailto:support@cafeondo.app">support@cafeondo.app</a></div>
      </div>
      <div class="footer-col">
        <h3>법적 문서</h3>
        <ul class="footer-links" role="list">
          <li><a href="privacy.html" aria-current="page">개인정보 처리방침</a></li>
          <li><a href="terms.html">서비스 이용약관</a></li>
          <li><a href="location.html">위치정보 이용약관</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>시행일</h3>
        <ul class="footer-links" role="list">
          <li><span style="color:var(--color-text-faint);font-size:var(--text-sm)">2026년 3월 1일부터 시행</span></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <span class="footer-copy">© 2026 카페온도. 개인 개발자 운영 서비스.</span>
      <a href="index.html" style="font-size:var(--text-xs);color:var(--color-text-faint);">← 법적 문서 목록으로</a>
    </div>
  </footer>

  <script>
    (function() {
      const toggle = document.querySelector('[data-theme-toggle]');
      const root = document.documentElement;
      let theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      root.setAttribute('data-theme', theme);
      updateIcon();
      function updateIcon() {
        if (!toggle) return;
        toggle.innerHTML = theme === 'dark'
          ? '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>'
          : '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>';
        toggle.setAttribute('aria-label', theme === 'dark' ? '라이트 모드로 전환' : '다크 모드로 전환');
      }
      if (toggle) {
        toggle.addEventListener('click', function() {
          theme = theme === 'dark' ? 'light' : 'dark';
          root.setAttribute('data-theme', theme);
          updateIcon();
        });
      }
    })();

    // Active TOC highlight
    (function() {
      const sections = document.querySelectorAll('.doc-section[id]');
      const tocLinks = document.querySelectorAll('.toc-list a');
      if (!sections.length || !tocLinks.length) return;
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            tocLinks.forEach(a => a.classList.remove('active'));
            const active = document.querySelector('.toc-list a[href="#' + entry.target.id + '"]');
            if (active) active.classList.add('active');
          }
        });
      }, { rootMargin: '-20% 0px -70% 0px' });
      sections.forEach(s => obs.observe(s));
    })();
  </script>
</body>
</html>
